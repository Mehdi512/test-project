ALTER TABLE `Refill`.`id_password_policies` MODIFY COLUMN `password_expiry_period` int(11) NOT NULL DEFAULT '0';

REPLACE INTO `resources` (`datakey`, `data`, `LastUpdated`, `ResourceGroup`, `startup`, `touched`, `last_modified`) VALUES 
('?(Astd)/?(*)/?(OUTManagePasswordPolicy)/group(CompleteGroup)/w(Window)/appearance(StringResource)','<div class="row provideMarginTop_64px" id="passwordPolicyForm"> <div class="row pageHeader" id="addEditPolicy"> <h4>Add/Edit Policy</h4> <p>This section allows the user to add new password policies with new changes incorported to the policy.</p> </div> %|{messages(OUMessageGroup)/group(CompleteGroup)/w(Window)}|% <div class="row" id="passwordPolicySectionOne"> <div class="columns four" id="policyName"> <label id="passwordPolicyName" for="">§policy_name§ <span class="helpQuestionMark" title="Enter the name of the policy">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/policy_name(OUTChooseText)/w(Window)}|%</span> </div> </div> <div class="row" id="passwordPolicyDescription"> <div class="columns eight" id="policyDescription"> <label id="passwordPolicyDescryption" for="">§policy_description§ <span class="helpQuestionMark" title="Enter details">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/policy_description(OUTChooseText)/w(Window)}|%</span> </div> </div> <div class="row" id="passwordPolicySectionTwo"> <div class="columns four" id="passwordMinLengthDiv"> <label id="passwordMinLength" for="">§password_min_length§ <span class="helpQuestionMark" title="Minimum characters in password">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/password_min_length(OUTChooseText)/w(Window)}|%</span> </div> <div class="columns four" id="passwordMaxLengthDiv"> <label id="passwordMaxLength" for="">§password_max_length§ <span class="helpQuestionMark" title="Minimum characters in password">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/password_max_length(OUTChooseText)/w(Window)}|%</span> </div> <div class="columns four" id="passwordRegexDiv"> <label id="passwordRegex" for="">§password_regexp§ <span class="helpQuestionMark" title="Enter regexp">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/password_regexp(OUTChooseText)/w(Window)}|%</span> </div> </div> <div class="row" id="passwordUpdatePolicySectionForth"> <div class="columns four" id="updatePolicyhDiv"> <label id="updatePolicy" for="">§change_policy§ <span class="helpQuestionMark" title="Select update policy">?</span> </label> <span>%|{change_policy(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="updateTemplateDiv"> <label id="updateTemplate" for="">§change_report§ <span class="helpQuestionMark" title="Select update template">?</span> </label> <span>%|{change_report(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div></div> <div class="row" id="passwordPolicySectionForth"> <div class="columns four" id="createPolicyhDiv"> <label id="createPolicy" for="">§create_policy§ <span class="helpQuestionMark" title="Select policy">?</span> </label> <span>%|{create_policy(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="createMessageDiv"> <label id="createMessafe" for="">§create_message§ <span class="helpQuestionMark" title="Select message type">?</span> </label> <span>%|{create_message(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="createTemplateDiv"> <label id="createTemplate" for="">§create_template§ <span class="helpQuestionMark" title="Select report template">?</span> </label> <span>%|{create_template(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> </div> <div class="row" id="passwordPolicySectionFive"> <div class="columns four" id="legalCharactersDiv"> <label id="legalCharacters" for="">§legal_characters§ <span class="helpQuestionMark" title="Select character type">?</span> </label> <span>%|{legal_characters(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="encrytionFormatDiv"> <label id="encryptionFormat" for="">§encryption_format§ <span class="helpQuestionMark" title="Select encryption format">?</span> </label> <span>%|{encryption_format(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="expiryPeriodDiv"> <label id="expiryPeriod" for="">§expiry_period§ <span class="helpQuestionMark" title="Select password expiry">?</span> </label> <span>%|{expiry_period(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="expiryPeriodDiv1"> <label id="expiryPeriod" for="">§expiry_period_indays§ <span class="helpQuestionMark" title="Select password expiry">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/expiry_period_indays(OUTChooseText)/w(Window)}|%</span> </div> </div> <div class="row" id="passwordPolicySectionSix"> <div class="columns four" id="passwordControlDiv"> <label id="passwordControl" for="">§password_control§ <span class="helpQuestionMark" title="Select password check">?</span> </label> <span>%|{password_control(ElementChoiceOption)/group(CompleteGroup)/w(Window)}|%</span> </div> <div class="columns four" id="maxIncorrectAttemptsDiv"> <label id="macIncorrectAttempts" for="">§max_incorrect_attempts§ <span class="helpQuestionMark" title="Enter number of incorrect login input allowed">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/incorrectlogin_max_attempts(OUTChooseText)/w(Window)}|%</span> </div> </div> <div class="row" id="passwordPolicySectionSeven"> <div class="columns four" id="userPasswordHistoryDiv"> <label id="userPasswordHistory" for="">§user_passwords_history§ <span class="helpQuestionMark" title="Enter password history limit">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/user_passwords_history(OUTChooseText)/w(Window)}|%</span> </div> </div> <div class="row" id="bannedPasswordsTextArea"> <div class="columns eight" id="bannedPasswordsDiv"> <label id="bannedPasswords" for="">§banned_passwords§ <span class="helpQuestionMark" title="Enter any banned passwords">?</span> </label> <span>%|{manage_password_policy(OUTManagePasswordPolicy)/banned_passwords(OUTChooseText)/w(Window)}|%</span> </div> </div> §visible_password§ %|{visible_password(BooleanChoice)/group(CompleteGroup)/w(Window)}|% <br>§password_change_at_first_login§ %|{password_change_at_first_login(BooleanChoice)/group(CompleteGroup)/w(Window)}|%</div> <div class="row" id="doActionButtonsPasswordPolicy"> <span id="doUpdate">%|{update_policy(FlowControl)/group(CompleteGroup)/w(Window)}|%</span> <span id="doCancel">%|{cancel(FlowControl)/group(CompleteGroup)/w(Window)}|%</span> <span id="doCreate">%|{create_policy(FlowControl)/group(CompleteGroup)/w(Window)}|%</span> </div>\r\n<input id="passwordPolicyInDays" type="hidden" value="%|{manage_password_policy(OUTManagePasswordPolicy)/is_exp_period_indays_enabled(TextMessage)/w(Window)}|%" >\r\n<script>\r\n\r\nif(document.getElementById("passwordPolicyInDays").value == "1") {\r\ndocument.getElementById("expiryPeriodDiv").style.display="none";\r\ndocument.getElementById("expiryPeriodDiv1").style.display="block";\r\n}\r\nelse {\r\ndocument.getElementById("expiryPeriodDiv").style.display="block";\r\ndocument.getElementById("expiryPeriodDiv1").style.display="none";\r\n}\r\n\r\n<\/script>\r\n','2019-05-15 14:37:53','?(RefillAdmin)','2019-05-15 14:37:53','2019-05-15 14:37:53','2019-05-15 14:37:53');

REPLACE INTO `resources` (`datakey`, `data`, `LastUpdated`, `ResourceGroup`, `startup`, `touched`, `last_modified`) VALUES 
('?(Len)/?(*)/?(OUTManagePasswordPolicy)/group(CompleteGroup)/w(Window)/langmap(StringResource)','policy_name=Policy name\r\npolicy_description=Description\r\npassword_min_length=Password min length\r\npassword_max_length=Max length\r\npassword_regexp=Regexp\r\nchange_policy=Password change policy\r\nchange_report=Change report template\r\nvisible_password=Visible password\r\npassword_change_at_first_login=Password change at first login\r\nencryption_format=Encryption format\r\nlegal_characters=Legal characters\r\ncreate_policy=Password create policy\r\ncreate_message=Create message\r\ncreate_template=Create report template\r\nexpiry_period=Password expiry period\r\nexpiry_period_indays=Password expiry period in days\r\nbanned_passwords=Banned passwords\r\npassword_control=Password control\r\nmax_incorrect_attempts=Max Incorrect Logins\r\nuser_passwords_history=Password History limit','2019-05-15 14:37:53','?(RefillAdmin)','2019-05-15 14:37:53','2019-05-15 14:37:53','2019-05-15 14:37:53');
